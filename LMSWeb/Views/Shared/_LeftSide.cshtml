@using LMSWeb.Models
@model Tuple<TestbedViewModel, EventTypeViewModel, EventTypeViewModel, DateSelectModel>

@Styles.Render("~/Content/css")
@Scripts.Render("~/bundles/modernizr")
@Scripts.Render("~/bundles/jquery")
@Scripts.Render("~/bundles/bootstrap")


<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>
<script src="~/Scripts/jquery-ui-1.12.1.min.js"></script>
<script src="~/Scripts/Util.js"></script>
<link href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css" rel="stylesheet" type="text/css">
<script language="javascript" type="text/javascript">

    $(function () {
        selectedChartType = $('[name="dgr"]:checked').val();
    });

    $(document).on('click', '[name="dgr"]', function () {
        selectedChartType = $(this).val();
        selectedChartType = selectedChartType.toLowerCase();
    });

    $(function () {
        $("#FromDate,#TomDate").datepicker({
            changeMonth: true,
            changeYear: true,
            dateFormat: 'yy-mm-dd'
        });

        $("#datepicker-1").datepicker({
            dateFormat: "yyyy-MM-dd",
            changeMonth: true,
            changeYear: true
        });
    })

    $(document).ready(function () {
        //Disable the "add-serie"
        $("#addSubEvent").prop("disabled", true);
    });

</script>


@using (Html.BeginForm("Data", "Statistics", FormMethod.Post))
{

    @*<div class="divstyle">*@
<div class="left-divstyle">
    <h3>Filter statistics</h3>

    <!--To select report type of diagram-->
    <div class="form-group">

        @Html.Label("Select report-type")
        @{
            ReportTypeViewModel reportType = (ReportTypeViewModel)TempData["ReportTypes"];
        }

        @Html.DropDownList("drpSelectReportType", new SelectList(reportType.ListOfReportTypes, "Value", "Text"),
            new { @class = "form-control", @id = "ddlReportType" , @onchange = "filterReportType();" })

    </div>


    <!--To select type of diagram-->
    <div class="form-group">

        <form name="frmDiagramType">
            @Html.RadioButton("dgr", "Line", false, new { @class = "control-label", @value = "1", @id = "chkLine" }) Line
            @Html.RadioButton("dgr", "Bar", true, new { @class = "control-label", @value = "2", @id = "chkBar" }) Bar
            @Html.RadioButton("dgr", "Pie", false, new { @class = "control-label", @value = "3", @id = "chkPie" }) Pie
            @Html.RadioButton("dgr", "Doughnut", false, new { @class = "control-label", @value = "4", @id = "chkDoughnut" }) Doughnut
        </form>

    </div>

    <!--Select testbed-->
    <div class="form-inline">
        @Html.LabelFor(tuple => tuple.Item1.TestBedId, new { @class = "control-label" }) <br />
        @Html.DropDownListFor(tuple => tuple.Item1.TestBedId, new SelectList(Model.Item1.ListofTestbeds, "Value", "Text"),
      "--SELECT--", new { @class = "form-control", @id="ddlTestBed" })
        @Html.CheckBox("chkAllTestBed", false, new { onchange = "AllTestBedsSelected(this);" })
        @Html.Label("All Testbeds", new {@id="lblAllTestBeds" })
    </div>
    
    <!--All eventtypes-->
    <div class="form-inline">

        @Html.LabelFor(tuple => tuple.Item2.EventTypeId)<br />
        @Html.DropDownListFor(tuple => tuple.Item2.EventTypeId, new SelectList(Model.Item2.ListofEventTypes, "Value", "Text"),
      "--SELECT--",
      new {@id="ddlEventTypes", @class = "form-control", @onchange = "filterEvents();"})

        @Html.CheckBox("chkEventTypes", false, new { onchange = "AllEventsSelected(this);" })
        @Html.Label("All Events")

    </div>
    <div class="form-inline">
        @Html.Label("Subevents")
        <br />
        <select name="ddlSubEvent" class="form-control" id="idSubEvent">
            <option>--SUB-EVENTTYPE--</option>
        </select>

        @Html.CheckBox("chkSubEventTypes", false, new { @class = "control-label", onchange = "AllSubEventsSelected(this);" })
        @Html.Label("All Subevents")
        <input type="button" name="btnAddSubEvent" id="addSubEvent" value="Add serie" class="btn-default" onclick="AddNewSerie();" />

    </div>

    <div class="form-group input-group-sm">

        @Html.LabelFor(model => model.Item4.FromDate)
        @Html.TextBoxFor(model => model.Item4.FromDate, "{0:yyyy-MM-dd}", new { @id = "FromDate", @class = "form-control" })



        @Html.LabelFor(model => model.Item4.TomDate)
        @Html.TextBoxFor(model => model.Item4.TomDate, "{0:yyyy-MM-dd}", new { @class = "form-control", @id = "TomDate" })
        <br />

        <fieldset>
            <legend>Select grouping option</legend>
            @Html.RadioButton("group", "Year", false, new { @class = "control-label", @value = "1", @id = "chkYear" }) Year<br />
            @Html.RadioButton("group", "Month", true, new { @class = "control-label", @value = "2", @id = "chkMonth" }) Month<br />
            @Html.RadioButton("group", "Week", false, new { @class = "control-label", @value = "3", @id = "chkWeek" }) Week<br />
            @Html.RadioButton("group", "Day", false, new { @class = "control-label", @value = "4", @id = "chkDay" }) Day<br /><br />
            <legend />
        </fieldset>
        @*<input type="submit" name="btnSubmit" id="idSubmit" value="Get Data" class="btn-info" />*@
        <input type="button" onclick="FetchStatistics();" name="btnSubmit" id="idSubmit" value="Get Data" class="btn-info" />

    </div>

</div>

}



<style>
    .divstyle {
        padding-left: 15px;
        float: left;
        width: 350px;
        height: 700px;
        background-color: darkgoldenrod;
    }
</style>
